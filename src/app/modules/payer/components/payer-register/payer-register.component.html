<form [formGroup]="profileForm" (submit)="onSubmit()">
  <h2>{{mode === "register" ? "Create your account" : "Edit your profile"}}</h2>
  <p-inputGroup>
      <p-inputGroupAddon>
        <i class="pi pi-user"></i>
      </p-inputGroupAddon>
      <input
        id="firstName"
        class="p-inputtext"
        pInputText
        formControlName="fullName"
        placeholder="Full name*"
      />

    <small
      class="p-error block"
      *ngIf="
        profileForm.get('firstName')?.invalid &&
        profileForm.get('firstName')?.dirty
      "
    >
      First name is required</small
    >
  </p-inputGroup>

  <p-inputGroup>
    <p-inputGroupAddon>
      <i class="pi pi-user"></i>
    </p-inputGroupAddon>
    <input
      class="p-inputtext"
      pInputText
      formControlName="username"
      placeholder="Username*"
    />
  </p-inputGroup>

  <p-inputGroup>
    <p-inputGroupAddon>
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-key" viewBox="0 0 16 16">
        <path d="M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8m4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5"/>
        <path d="M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
      </svg>
    </p-inputGroupAddon>
    <p-password class="password" formControlName="password" [feedback]="false" placeholder="Password*" />
  </p-inputGroup>

  <p-inputGroup>
    <p-inputGroupAddon>
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-123" viewBox="0 0 16 16">
        <path d="M2.873 11.297V4.142H1.699L0 5.379v1.137l1.64-1.18h.06v5.961zm3.213-5.09v-.063c0-.618.44-1.169 1.196-1.169.676 0 1.174.44 1.174 1.106 0 .624-.42 1.101-.807 1.526L4.99 10.553v.744h4.78v-.99H6.643v-.069L8.41 8.252c.65-.724 1.237-1.332 1.237-2.27C9.646 4.849 8.723 4 7.308 4c-1.573 0-2.36 1.064-2.36 2.15v.057zm6.559 1.883h.786c.823 0 1.374.481 1.379 1.179.01.707-.55 1.216-1.421 1.21-.77-.005-1.326-.419-1.379-.953h-1.095c.042 1.053.938 1.918 2.464 1.918 1.478 0 2.642-.839 2.62-2.144-.02-1.143-.922-1.651-1.551-1.714v-.063c.535-.09 1.347-.66 1.326-1.678-.026-1.053-.933-1.855-2.359-1.845-1.5.005-2.317.88-2.348 1.898h1.116c.032-.498.498-.944 1.206-.944.703 0 1.206.435 1.206 1.07.005.64-.504 1.106-1.2 1.106h-.75z"/>
      </svg>
    </p-inputGroupAddon>
    <input
      class="p-inputtext"
      pInputText
      formControlName="fiscalCode"
      placeholder="Fiscal code"
    />
  </p-inputGroup>

  <p-inputGroup>
    <p-inputGroupAddon>
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-geo-alt" viewBox="0 0 16 16">
        <path d="M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A32 32 0 0 1 8 14.58a32 32 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10"/>
        <path d="M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
      </svg>
    </p-inputGroupAddon>
    <input
      class="p-inputtext"
      pInputText
      formControlName="address"
      placeholder="Address"
    />
  </p-inputGroup>

  <p-inputGroup>
    <p-calendar
    placeholder="Date of birth"
      formControlName="birthdate"
      [iconDisplay]="'input'"
      [showIcon]="true"
      inputId="icondisplay"
    />
  </p-inputGroup>


  
  <div class="account-type-btns">
    <button
      pButton
      pRipple
      type="button"
      label="Bank Account"
      class="p-button-primary"
      (click)="changeAccountType(AccountType.BANK)"
    ></button>
    <p>Or</p>
    <button
      pButton
      pRipple
      type="button"
      label="Paypal"
      class="p-button-primary"
      (click)="changeAccountType(AccountType.PAYPAL)"
    ></button>
  </div>

  <div class="bank-account" *ngIf="fg.get('accountType')?.value === 0">
    <p-inputGroup>
      <p-inputGroupAddon>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-credit-card" viewBox="0 0 16 16">
          <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v1h14V4a1 1 0 0 0-1-1zm13 4H1v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1z"/>
          <path d="M2 10a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1z"/>
        </svg>
      </p-inputGroupAddon>
      <input
        class="p-inputtext"
        pInputText
        formControlName="iban"
        placeholder="IBAN"
      />
    </p-inputGroup>
    <p-inputGroup>
      <p-inputGroupAddon>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bank2" viewBox="0 0 16 16">
          <path d="M8.277.084a.5.5 0 0 0-.554 0l-7.5 5A.5.5 0 0 0 .5 6h1.875v7H1.5a.5.5 0 0 0 0 1h13a.5.5 0 1 0 0-1h-.875V6H15.5a.5.5 0 0 0 .277-.916zM12.375 6v7h-1.25V6zm-2.5 0v7h-1.25V6zm-2.5 0v7h-1.25V6zm-2.5 0v7h-1.25V6zM8 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2M.5 15a.5.5 0 0 0 0 1h15a.5.5 0 1 0 0-1z"/>
        </svg>
      </p-inputGroupAddon>
      <input
        class="p-inputtext"
        pInputText
        formControlName="bankName"
        placeholder="Bank name"
      />
    </p-inputGroup>
  </div>

  <div *ngIf="fg.get('accountType')?.value === 1">
    <p-inputGroup>
      <p-inputGroupAddon>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-paypal" viewBox="0 0 16 16">
          <path d="M14.06 3.713c.12-1.071-.093-1.832-.702-2.526C12.628.356 11.312 0 9.626 0H4.734a.7.7 0 0 0-.691.59L2.005 13.509a.42.42 0 0 0 .415.486h2.756l-.202 1.28a.628.628 0 0 0 .62.726H8.14c.429 0 .793-.31.862-.731l.025-.13.48-3.043.03-.164.001-.007a.35.35 0 0 1 .348-.297h.38c1.266 0 2.425-.256 3.345-.91q.57-.403.993-1.005a4.94 4.94 0 0 0 .88-2.195c.242-1.246.13-2.356-.57-3.154a2.7 2.7 0 0 0-.76-.59l-.094-.061ZM6.543 8.82a.7.7 0 0 1 .321-.079H8.3c2.82 0 5.027-1.144 5.672-4.456l.003-.016q.326.186.548.438c.546.623.679 1.535.45 2.71-.272 1.397-.866 2.307-1.663 2.874-.802.57-1.842.815-3.043.815h-.38a.87.87 0 0 0-.863.734l-.03.164-.48 3.043-.024.13-.001.004a.35.35 0 0 1-.348.296H5.595a.106.106 0 0 1-.105-.123l.208-1.32z"/>
        </svg>
      </p-inputGroupAddon>
      <input
        class="p-inputtext"
        pInputText
        formControlName="paypalUsername"
        placeholder="Paypal username"
      />
    </p-inputGroup>
  </div>

  <ng-container *ngIf="fg.get('accountType')?.value != null">
    <div class="label-block">
      <label class="block font-bold mb-2" for="weekly-transfer-limit"
        >Weekly Transfer Limit</label
      >
      <p-inputNumber
        mode="currency"
        currency="EUR"
        formControlName="weeklyTransferLimit"
        itemId="weekly-transfer-limit"
      />
    </div>
    <div class="label-block">
      <label class="block font-bold mb-2" for="weekly-expenses-limit"
        >Weekly Expenses Limit</label>
      <p-inputNumber
        mode="currency"
        currency="EUR"
        formControlName="weeklyExpensesLimit"
        itemId="weekly-expenses-limit"
      />
    </div>
  </ng-container>

  <button
    [disabled]="!profileForm.valid"
    pButton
    pRipple
    label="Submit"
    class="p-button-primary"
  ></button>
</form>
